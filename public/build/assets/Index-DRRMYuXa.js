import{j as e,r as d,u as Xe,H as ea,a as w}from"./app-6aKQxMge.js";import{c as xe,R as aa,T as sa,P as ra,W as ta,a as na,C as la,b as ia,d as da,D as oa,e as me,O as ca,t as b}from"./index-DY33TqIM.js";import{u as ge,c as f,b as pe,B as P}from"./button-DN3ap-Ga.js";import{C as xa,f as re,a as ma,B as _}from"./calendar-TAMUzvP-.js";import{C as S,a as C,b as T,d as I,c as z}from"./card-CsdVILFJ.js";import{I as te}from"./input-e3nxWqAI.js";import{L as B}from"./label-DhLmc2m5.js";import{P as ga,a as pa,b as ha}from"./popover-19JNz8D2.js";import{S as ne,a as le,b as ie,c as de,d as y}from"./select-BR3yievR.js";import{S as F}from"./separator-BAQwUglw.js";import{T as ua,a as ba,b as K,c as v,d as ya,e as j}from"./table-C--ss7YW.js";import{A as ja,B as fa}from"./AuthenticatedLayout-3p6nE4rK.js";import{c as E}from"./createLucideIcon-E6N6yDMf.js";import{W as oe,C as Na}from"./wallet-IlXYIiyQ.js";import{A as ka}from"./arrow-up-right-DV8cxgn7.js";import{T as va}from"./trending-up-DRnszJww.js";import{T as wa}from"./trash-2-DtKywGsc.js";import"./index-B4bsyb25.js";const Aa=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Da=E("arrow-down-right",Aa);const _a=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Sa=E("arrow-right-left",_a);const Ca=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],W=E("landmark",Ca);const Ta=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],za=E("lock",Ta);var Ma=Symbol("radix.slottable");function Ra(r){const s=({children:t})=>e.jsx(e.Fragment,{children:t});return s.displayName=`${r}.Slottable`,s.__radixId=Ma,s}var he="AlertDialog",[Pa]=na(he,[xe]),h=xe(),ue=r=>{const{__scopeAlertDialog:s,...t}=r,i=h(s);return e.jsx(aa,{...i,...t,modal:!0})};ue.displayName=he;var Ia="AlertDialogTrigger",be=d.forwardRef((r,s)=>{const{__scopeAlertDialog:t,...i}=r,o=h(t);return e.jsx(sa,{...o,...i,ref:s})});be.displayName=Ia;var Ba="AlertDialogPortal",ye=r=>{const{__scopeAlertDialog:s,...t}=r,i=h(s);return e.jsx(ra,{...i,...t})};ye.displayName=Ba;var Ea="AlertDialogOverlay",je=d.forwardRef((r,s)=>{const{__scopeAlertDialog:t,...i}=r,o=h(t);return e.jsx(ca,{...o,...i,ref:s})});je.displayName=Ea;var A="AlertDialogContent",[$a,Oa]=Pa(A),La=Ra("AlertDialogContent"),fe=d.forwardRef((r,s)=>{const{__scopeAlertDialog:t,children:i,...o}=r,u=h(t),m=d.useRef(null),n=ge(s,m),N=d.useRef(null);return e.jsx(ta,{contentName:A,titleName:Ne,docsSlug:"alert-dialog",children:e.jsx($a,{scope:t,cancelRef:N,children:e.jsxs(la,{role:"alertdialog",...u,...o,ref:n,onOpenAutoFocus:ia(o.onOpenAutoFocus,g=>{g.preventDefault(),N.current?.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[e.jsx(La,{children:i}),e.jsx(Fa,{contentRef:m})]})})})});fe.displayName=A;var Ne="AlertDialogTitle",ke=d.forwardRef((r,s)=>{const{__scopeAlertDialog:t,...i}=r,o=h(t);return e.jsx(da,{...o,...i,ref:s})});ke.displayName=Ne;var ve="AlertDialogDescription",we=d.forwardRef((r,s)=>{const{__scopeAlertDialog:t,...i}=r,o=h(t);return e.jsx(oa,{...o,...i,ref:s})});we.displayName=ve;var Ha="AlertDialogAction",Ae=d.forwardRef((r,s)=>{const{__scopeAlertDialog:t,...i}=r,o=h(t);return e.jsx(me,{...o,...i,ref:s})});Ae.displayName=Ha;var De="AlertDialogCancel",_e=d.forwardRef((r,s)=>{const{__scopeAlertDialog:t,...i}=r,{cancelRef:o}=Oa(De,t),u=h(t),m=ge(s,o);return e.jsx(me,{...u,...i,ref:m})});_e.displayName=De;var Fa=({contentRef:r})=>{const s=`\`${A}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${A}\` by passing a \`${ve}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${A}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{document.getElementById(r.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,r]),null},Ka=ue,Wa=be,Ga=ye,Se=je,Ce=fe,Te=Ae,ze=_e,Me=ke,Re=we;const ce=Ka,Ua=Wa,Va=Ga,Pe=d.forwardRef(({className:r,...s},t)=>e.jsx(Se,{className:f("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s,ref:t}));Pe.displayName=Se.displayName;const G=d.forwardRef(({className:r,...s},t)=>e.jsxs(Va,{children:[e.jsx(Pe,{}),e.jsx(Ce,{ref:t,className:f("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...s})]}));G.displayName=Ce.displayName;const U=({className:r,...s})=>e.jsx("div",{className:f("flex flex-col space-y-2 text-center sm:text-left",r),...s});U.displayName="AlertDialogHeader";const V=({className:r,...s})=>e.jsx("div",{className:f("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...s});V.displayName="AlertDialogFooter";const Y=d.forwardRef(({className:r,...s},t)=>e.jsx(Me,{ref:t,className:f("text-lg font-semibold",r),...s}));Y.displayName=Me.displayName;const J=d.forwardRef(({className:r,...s},t)=>e.jsx(Re,{ref:t,className:f("text-sm text-muted-foreground",r),...s}));J.displayName=Re.displayName;const q=d.forwardRef(({className:r,...s},t)=>e.jsx(Te,{ref:t,className:f(pe(),r),...s}));q.displayName=Te.displayName;const Z=d.forwardRef(({className:r,...s},t)=>e.jsx(ze,{ref:t,className:f(pe({variant:"outline"}),"mt-2 sm:mt-0",r),...s}));Z.displayName=ze.displayName;function ms({auth:r,date:s,reportData:t,grandTotalHariIni:i,yesterdayGrandTotal:o=0,isClosed:u=!1}){const{saldo_awal:m,mutations:n,totals:N,transactions:g,ops:l}=t,Q=g?.data??[],Ie=g?.links??[],Be=g?.from??0,Ee=g?.to??0,$e=g?.total??0,{data:k,setData:M,reset:Oe}=Xe({type:"out",payment_method:"cash",description:"",amount:""}),Le=N.buy,He=N.sales,Fe=t.saldo_akhir?.cash??(m.cash||0)+(n.salesCash||0)-(n.buyCash||0)+(l?.cash_in||0)-(l?.cash_out||0)+(l?.transfer_from_bank_to_cash||0)-(l?.transfer_to_bank||0),Ke=t.saldo_akhir?.bca??(m.bca||0)+(n.salesBca||0)-(n.buyBca||0)+(l?.bca_in||0)-(l?.bca_out||0),We=t.saldo_akhir?.mandiri??(m.mandiri||0)+(n.salesMandiri||0)-(n.buyMandiri||0)+(l?.mandiri_in||0)-(l?.mandiri_out||0),Ge=N.total_money,$=i,D=$-o,Ue=a=>{w.get(route("laporan.index"),{date:a},{preserveState:!0,preserveScroll:!0})},c=a=>{const x=Number(a);return isNaN(x)?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(x)},Ve=a=>{const x=Number(String(a).replace(/[^0-9]/g,""));return isNaN(x)?"":new Intl.NumberFormat("id-ID").format(x)},p=a=>{const x=Number(a);return isNaN(x)?"0":new Intl.NumberFormat("id-ID").format(x)},Ye=a=>{if(!a)return"-";const x=new Date(a);return isNaN(x.getTime())?"-":new Intl.DateTimeFormat("id-ID",{timeZone:"Asia/Jakarta",day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(x)},X=a=>a?a.toLowerCase().replace(/\b\w/g,x=>x.toUpperCase()):"-",Je=a=>{a.preventDefault(),w.post(route("laporan.store"),k,{onSuccess:()=>{Oe(),b.success("Data operasional berhasil disimpan")},onError:()=>{b.error("Data operasional gagal disimpan")},preserveScroll:!0})},qe=()=>{if(se){b.warning("Tidak bisa export laporan untuk tanggal mendatang");return}if(!ae){b.error("Shift hanya bisa ditutup pada hari berjalan");return}w.post(route("laporan.end-shift"),{},{preserveState:!1,onSuccess:()=>{b.success("Shift ditutup & laporan berhasil diexport");const a=route("laporan.export",{date:s});window.open(a,"_blank"),setTimeout(()=>{w.post(route("logout"))},1500)},onError:a=>{b.error(a.message||"Gagal menutup shift")}})},[O,R]=d.useState(null),Ze=a=>{R(a)},Qe=()=>{O&&w.delete(route("laporan.destroy",O),{onSuccess:()=>{b.success("Data berhasil dihapus"),R(null)},onError:a=>{b.error(a?.props?.errors?.message||"Gagal menghapus data"),R(null)},preserveScroll:!0})},L=new Date,ee=`${L.getFullYear()}-${String(L.getMonth()+1).padStart(2,"0")}-${String(L.getDate()).padStart(2,"0")}`,ae=s===ee,H=d.useMemo(()=>s?new Date(s):void 0,[s]),se=s>ee;return e.jsxs(ja,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Laporan Harian & Audit"}),children:[e.jsx(ea,{title:"Laporan Harian"}),e.jsx(ce,{open:!!O,onOpenChange:a=>!a&&R(null),children:e.jsxs(G,{children:[e.jsxs(U,{children:[e.jsx(Y,{children:"Konfirmasi Hapus"}),e.jsx(J,{children:"Apakah Anda yakin ingin menghapus data ini? Tindakan ini akan mengembalikan stok/saldo jika data yang dihapus adalah transaksi, dan tidak dapat dibatalkan."})]}),e.jsxs(V,{children:[e.jsx(Z,{disabled:!1,children:"Batal"}),e.jsx(q,{onClick:Qe,className:"bg-red-600 hover:bg-red-700",children:"Hapus Data"})]})]})}),e.jsxs("div",{className:"flex min-h-screen w-full flex-col gap-8 px-6 py-2",children:[e.jsxs("div",{className:"flex flex-col items-start justify-between gap-6 rounded-xl border border-gray-100 bg-white p-6 shadow-sm dark:border-zinc-800 dark:bg-zinc-900 md:flex-row md:items-center",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Rekapitulasi Harian"}),e.jsx("div",{className:"flex items-center gap-3 text-gray-500 dark:text-gray-400",children:e.jsxs(ga,{children:[e.jsx(pa,{asChild:!0,children:e.jsxs("button",{type:"button",className:"flex h-8 items-center gap-3 bg-transparent p-0 text-base font-medium text-gray-500 outline-none hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200",children:[e.jsx(xa,{className:"h-4 w-4"}),H?e.jsx("span",{className:"text-gray-900 dark:text-gray-200",children:re(H,"dd-MM-yyyy")}):e.jsx("span",{children:"Pilih tanggal"})]})}),e.jsx(ha,{className:"w-auto p-0",align:"start",children:e.jsx(ma,{mode:"single",selected:H,onSelect:a=>{a&&Ue(re(a,"yyyy-MM-dd"))},initialFocus:!0})})]})})]}),e.jsx("div",{className:"flex w-full gap-3 md:w-auto",children:e.jsxs(ce,{children:[e.jsx(Ua,{asChild:!0,children:e.jsxs(P,{disabled:u,className:"h-10 gap-2 bg-rose-600 px-4 text-white shadow-sm hover:bg-rose-700 disabled:opacity-50",children:[e.jsx(za,{className:"h-4 w-4"})," ",u?"Shift Closed":"End Shift"]})}),e.jsxs(G,{children:[e.jsxs(U,{children:[e.jsx(Y,{children:"Konfirmasi End Shift"}),e.jsxs(J,{children:[e.jsxs("div",{className:"mt-2 space-y-2 rounded-lg border border-gray-100 bg-gray-50 p-4 dark:border-zinc-800 dark:bg-zinc-900/50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Profit Bersih"}),e.jsx("span",{className:`text-lg font-bold ${D>=0?"text-green-600 dark:text-green-500":"text-red-600 dark:text-red-500"}`,children:c(D)})]}),e.jsx(F,{className:"dark:bg-zinc-700"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Grand Total Aset"}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-100",children:c($)})]})]}),se&&e.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 mt-3 p-3 text-sm text-red-700 dark:border-red-900/40 dark:bg-red-900/20 dark:text-red-400",children:["‚ö†Ô∏è Tidak bisa export laporan untuk tanggal mendatang.",e.jsx("br",{}),"Silakan kembali di hari berjalan untuk menutup shift."]}),e.jsx("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:"Data hari ini akan dikunci dan saldo akhir akan menjadi saldo awal untuk hari berikutnya."})]})]}),e.jsxs(V,{children:[e.jsx(Z,{children:"Batal"}),e.jsx(q,{onClick:qe,className:"bg-rose-600 hover:bg-rose-700",children:"Ya, Tutup Shift"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs(S,{className:"border-0 bg-white shadow-sm ring-1 ring-gray-200 dark:bg-zinc-900 dark:ring-zinc-800",children:[e.jsx(C,{className:"border-b border-gray-100 bg-gray-50/50 pb-4 dark:border-zinc-800 dark:bg-zinc-800/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(T,{className:"flex items-center gap-2 text-base font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(oe,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),"Laporan Arus Kas"]}),e.jsx(I,{className:"dark:text-gray-400",children:"Pergerakan uang tunai (Cash Only)"})]}),e.jsx(_,{variant:"secondary",className:"bg-blue-50 text-blue-700 hover:bg-blue-100 dark:bg-blue-900/30 dark:text-blue-300",children:"CASHFLOW"})]})}),e.jsxs(z,{className:"space-y-5 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 bg-gray-50 p-3 dark:border-zinc-800 dark:bg-zinc-800/50",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Saldo Awal"}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-100",children:c(m.cash)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1 text-gray-500 dark:text-gray-400",children:[e.jsx(Da,{className:"h-3 w-3 text-green-500"})," ","Penjualan"]}),e.jsxs("span",{className:"font-medium text-green-600 dark:text-green-500",children:["+",p(n.salesCash)]})]})}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1 text-gray-500 dark:text-gray-400",children:[e.jsx(ka,{className:"h-3 w-3 text-red-500"})," ","Pembelian"]}),e.jsxs("span",{className:"font-medium text-red-600 dark:text-red-500",children:["-",p(n.buyCash)]})]})})]}),e.jsx(F,{className:"dark:bg-zinc-800"}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsx("span",{className:"text-sm font-semibold uppercase tracking-wider text-gray-700 dark:text-gray-300",children:"Saldo Akhir Cash"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:c(Fe)})]})]})]}),e.jsxs(S,{className:"border-0 bg-white shadow-sm ring-1 ring-gray-200 dark:bg-zinc-900 dark:ring-zinc-800",children:[e.jsx(C,{className:"border-b border-gray-100 bg-gray-50/50 pb-4 dark:border-zinc-800 dark:bg-zinc-800/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(T,{className:"flex items-center gap-2 text-base font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(W,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"}),"Laporan Bank"]}),e.jsx(I,{className:"dark:text-gray-400",children:"Mutasi BCA & Mandiri"})]}),e.jsx(_,{variant:"secondary",className:"bg-purple-50 text-purple-700 hover:bg-purple-100 dark:bg-purple-900/30 dark:text-purple-300",children:"BANKFLOW"})]})}),e.jsxs(z,{className:"space-y-5 pt-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2 text-sm font-bold text-gray-700 dark:text-gray-300",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-500"}),"Saldo BCA Awal"]}),e.jsx("span",{className:"font-bold",children:p(m.bca)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("span",{className:"text-green-600 dark:text-green-500",children:["+ Masuk:"," ",p((n.salesBca||0)+(l?.bca_in||0))]}),e.jsxs("span",{className:"text-right text-red-600 dark:text-red-500",children:["- Keluar:"," ",p((n.buyBca||0)+(l?.bca_out||0))]})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 bg-gray-50 p-2 dark:border-zinc-800 dark:bg-zinc-800/50",children:[e.jsx("span",{className:"text-xs font-semibold uppercase text-gray-600 dark:text-gray-300",children:"Saldo Akhir BCA"}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-white/80",children:c(Ke)})]})]}),e.jsx(F,{className:"dark:bg-zinc-800"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2 text-sm font-bold text-gray-700 dark:text-gray-300",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-yellow-500"}),"Saldo Mandiri Awal"]}),e.jsx("span",{className:"font-bold",children:p(m.mandiri)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("span",{className:"text-green-600 dark:text-green-500",children:["+ Masuk:"," ",p((n.salesMandiri||0)+(l?.mandiri_in||0))]}),e.jsxs("span",{className:"text-right text-red-600 dark:text-red-500",children:["- Keluar:"," ",p((n.buyMandiri||0)+(l?.mandiri_out||0))]})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 bg-gray-50 p-2 dark:border-zinc-800 dark:bg-zinc-800/50",children:[e.jsx("span",{className:"text-xs font-semibold uppercase text-gray-600 dark:text-gray-300",children:"Saldo Akhir Mandiri"}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-white/80",children:c(We)})]})]})]})]}),e.jsxs(S,{className:"border-0 bg-white shadow-sm ring-1 ring-gray-200 dark:bg-zinc-900 dark:ring-zinc-800",children:[e.jsx(C,{className:"border-b border-gray-100 bg-gray-50/50 pb-4 dark:border-zinc-800 dark:bg-zinc-800/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(T,{className:"flex items-center gap-2 text-base font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(va,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"}),"Profit & Grand Total"]}),e.jsx(I,{className:"dark:text-gray-400",children:"Kekayaan bersih & keuntungan"})]}),e.jsx(_,{variant:"secondary",className:"bg-emerald-50 text-emerald-700 hover:bg-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-300",children:"PROFITABILITY"})]})}),e.jsxs(z,{className:"space-y-6 pt-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-x-20 gap-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium uppercase text-gray-500 dark:text-gray-400",children:"Total Pembelian"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:c(Le)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium uppercase text-gray-500 dark:text-gray-400",children:"Total Penjualan"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:c(He)})]})]}),e.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-100 bg-gray-50 p-4 dark:border-zinc-800 dark:bg-zinc-800/50",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(oe,{className:"h-3 w-3"})," Total BCA"]}),e.jsx("span",{className:`font-bold ${(n.salesBca||0)-(n.buyBca||0)+(l?.bca_in||0)-(l?.bca_out||0)<0?"text-red-600":"text-gray-900 dark:text-white/80"}`,children:c((n.salesBca||0)-(n.buyBca||0)+(l?.bca_in||0)-(l?.bca_out||0))})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(W,{className:"h-3 w-3"})," Total Mandiri"]}),e.jsx("span",{className:`font-bold ${(n.salesMandiri||0)-(n.buyMandiri||0)+(l?.mandiri_in||0)-(l?.mandiri_out||0)<0?"text-red-600":"text-gray-900 dark:text-white/80"}`,children:c((n.salesMandiri||0)-(n.buyMandiri||0)+(l?.mandiri_in||0)-(l?.mandiri_out||0))})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(W,{className:"h-3 w-3"})," Total Saldo Akhir"]}),e.jsx("span",{className:"font-medium dark:text-gray-200",children:c(Ge)})]}),e.jsxs("div",{className:"flex justify-between border-t border-gray-200 pt-2 text-sm dark:border-zinc-700",children:[e.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(Na,{className:"h-3 w-3"})," Total Saldo Valas"]}),e.jsx("span",{className:"font-medium dark:text-gray-200",children:c(N.asset_valas)})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium uppercase text-gray-500 dark:text-gray-400",children:"Grand Total Hari Ini"}),e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:c($)})]}),e.jsxs("div",{className:"space-y-1 text-right",children:[e.jsx("p",{className:"text-xs font-medium uppercase text-gray-500 dark:text-gray-400",children:"Profit Bersih"}),e.jsxs("p",{className:`text-xl font-bold ${D>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[D>0&&"+",c(D)]})]})]})]})]}),e.jsxs(S,{className:"w-full max-w-2xl border-0 bg-white shadow-sm ring-1 ring-gray-200 transition-all duration-300 dark:bg-zinc-900 dark:ring-zinc-800",children:[e.jsxs(C,{className:"border-b border-gray-100 bg-gray-50/50 pb-4 dark:border-zinc-800 dark:bg-zinc-800/50",children:[e.jsxs(T,{className:"flex items-center justify-center gap-2 text-base font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(Sa,{className:"h-4 w-4"}),"Input Operasional"]}),e.jsx(I,{className:"text-center dark:text-gray-400",children:"Catat biaya operasional & pemasukan lain"})]}),e.jsx(z,{className:"px-8 pt-6",children:e.jsxs("form",{onSubmit:Je,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(B,{className:"text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-400",children:"Jenis Transaksi"}),e.jsxs(ne,{onValueChange:a=>M("type",a),defaultValue:"out",children:[e.jsx(le,{className:"h-10 border-gray-200 bg-white dark:border-zinc-700 dark:bg-zinc-800",children:e.jsx(ie,{})}),e.jsxs(de,{children:[e.jsx(y,{value:"out",className:"font-medium text-red-600 dark:text-red-400",children:"üî¥ Pengeluaran"}),e.jsx(y,{value:"in",className:"font-medium text-green-600 dark:text-green-400",children:"üü¢ Pemasukan"})]})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(B,{className:"text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-400",children:"Sumber Dana"}),e.jsxs(ne,{onValueChange:a=>M("payment_method",a),value:k.payment_method,children:[e.jsx(le,{className:"h-10 border-gray-200 bg-white dark:border-zinc-700 dark:bg-zinc-800",children:e.jsx(ie,{})}),e.jsxs(de,{children:[e.jsx(y,{value:"cash",children:"üíµ Cash / Tunai"}),e.jsx(y,{value:"cash2",children:"üíµ Cash / Tunai 2"}),e.jsx(y,{value:"bca",children:"üè¶ Bank BCA"}),e.jsx(y,{value:"bca2",children:"üè¶ Bank BCA 2"}),e.jsx(y,{value:"mandiri",children:"üè¶ Bank Mandiri"}),e.jsx(y,{value:"mandiri2",children:"üè¶ Bank Mandiri 2"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(B,{className:"text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-400",children:"Nominal (Rp)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-3 text-lg font-bold text-gray-500 dark:text-gray-400",children:"Rp"}),e.jsx(te,{className:"h-14 border-gray-200 bg-white pl-10 text-xl font-bold text-gray-900 dark:border-zinc-700 dark:bg-zinc-800 dark:text-gray-100",placeholder:"0",value:Ve(k.amount),onChange:a=>M("amount",a.target.value.replace(/\./g,""))})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(B,{className:"text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-400",children:"Keterangan"}),e.jsx(te,{className:"h-10 border-gray-200 bg-white dark:border-zinc-700 dark:bg-zinc-800",placeholder:"Contoh: Beli bensin, Makan siang...",value:k.description,onChange:a=>M("description",a.target.value)})]}),e.jsx(P,{type:"submit",className:"h-12 w-full text-base font-bold shadow-sm transition-all",disabled:!k.amount||!k.description||u,children:k.type==="out"?"SIMPAN PENGELUARAN":"SIMPAN PEMASUKAN"})]})]})})]})]}),e.jsxs(S,{children:[e.jsx(C,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(fa,{className:"h-5 w-5"}),"Audit Trail & History Transaksi"]})}),e.jsxs(z,{children:[e.jsx("div",{className:"rounded-md border",children:e.jsxs(ua,{children:[e.jsx(ba,{className:"bg-gray-100 dark:bg-zinc-800",children:e.jsxs(K,{children:[e.jsx(v,{className:"w-[100px]",children:"Waktu"}),e.jsx(v,{className:"w-[100px]",children:"Tipe"}),e.jsx(v,{children:"Deskripsi / Nasabah"}),e.jsx(v,{className:"w-[100px] text-center",children:"Metode"}),e.jsx(v,{className:"text-right",children:"Nominal (IDR)"}),e.jsx(v,{className:"w-[120px] text-center",children:"User"}),e.jsx(v,{className:"w-[50px] text-center",children:"Aksi"})]})}),e.jsx(ya,{children:Q.length===0?e.jsx(K,{children:e.jsx(j,{colSpan:6,className:"py-6 text-center text-sm text-muted-foreground",children:"Tidak ada data transaksi"})}):Q.map(a=>e.jsxs(K,{children:[e.jsx(j,{className:"whitespace-nowrap text-xs",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-bold",children:a.invoice_number}),e.jsx("span",{className:"text-gray-500",children:Ye(a.formatted_time)})]})}),e.jsx(j,{children:e.jsx(_,{variant:"outline",className:["in","out"].includes(a.transaction_type)?"border-gray-300 bg-gray-200 text-gray-700 hover:bg-gray-300 dark:border-zinc-700 dark:bg-zinc-800 dark:text-gray-300":a.transaction_type==="buy"?"border-transparent bg-blue-600 text-white hover:bg-blue-700":"border-transparent bg-orange-600 text-white hover:bg-orange-700",children:a.transaction_type.toUpperCase()})}),e.jsx(j,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:X(a.customer)}),!a.is_operational&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:[a.currency_code.toUpperCase()," ",p(a.amount_valas)," ","(Kurs:"," ",p(a.rate),")"]})]})}),e.jsx(j,{className:"text-center",children:e.jsx(_,{variant:"outline",className:"text-[10px] uppercase",children:a.payment_method})}),e.jsxs(j,{className:`text-right font-bold ${["buy","out"].includes(a.transaction_type)?"text-red-600 dark:text-red-500":"text-green-600 dark:text-green-500"}`,children:[["buy","out"].includes(a.transaction_type)?"-":"+"," ",c(a.total_idr)]}),e.jsx(j,{className:"text-center text-xs",children:X(a.user_name)}),e.jsx(j,{className:"text-center",children:ae&&!u&&e.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:bg-red-50 hover:text-red-700 dark:text-red-400 dark:hover:bg-red-900/30",onClick:()=>Ze(a.id),children:e.jsx(wa,{className:"h-4 w-4"})})})]},a.id))})]})}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",Be," to ",Ee," of ",$e," results"]}),e.jsx("div",{className:"flex gap-1",children:Ie.map((a,x)=>e.jsx(P,{size:"sm",variant:a.active?"default":"outline",disabled:!a.url,onClick:()=>a.url&&w.get(a.url,{},{preserveScroll:!0,preserveState:!0}),dangerouslySetInnerHTML:{__html:a.label}},x))})]})]})]})]})]})}export{ms as default};
